(this["webpackJsonptest-work-weather-website"]=this["webpackJsonptest-work-weather-website"]||[]).push([[0],{27:function(t,n,e){},28:function(t,n,e){},53:function(t,n,e){"use strict";e.r(n);var r=e(0),a=e.n(r),o=e(20),c=e.n(o),i=(e(27),e(3)),u=e(5),s=(e(28),e(6)),d=e.n(s),l=e(10),p=e(11),f=e.n(p),h="https://api.openweathermap.org/data/2.5/weather",b="99865ebe8f851231124cb09f7d46c675";function j(){return(j=Object(l.a)(d.a.mark((function t(n){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("".concat(h,"?q=").concat(n,"&units=metric&appid=").concat(b)).then((function(t){if(200!==t.status)throw new Error(t.status);return t.data}));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){return(x=Object(l.a)(d.a.mark((function t(n){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("".concat(h,"?lat=").concat(n.lat,"&lon=").concat(n.lon,"&units=metric&appid=").concat(b)).then((function(t){if(200!==t.status)throw new Error(t.status);return t.data}));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var m,g,O,w,y,v,k,S,N=e(4),M=N.a.div(m||(m=Object(i.a)(["\n  width: 100%;\n  padding: 8px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  background-color: transparent;\n"]))),E=N.a.div(g||(g=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 8px;\n"]))),C=N.a.div(O||(O=Object(i.a)(["\n  width: 140px;\n  height: 140px;\n  margin-left: auto;\n  margin-right: auto;\n  background-image: ",";\n  background-position: center;\n  background-repeat: no-repeat;\n"])),(function(t){return"url( http://openweathermap.org/img/wn/".concat(t.picture,"@2x.png)")})),I=N.a.h3(w||(w=Object(i.a)(["\n  font-size: 50px;\n  font-weight: 700;\n"]))),D=N.a.p(y||(y=Object(i.a)(["\n  margin: 0;\n  padding: 0;\n  font-size: 20px;\n  font-weight: 500;\n"]))),q=function(t){return document.querySelector("#tempCard").style.backgroundColor=function(t){var n,e,r;return t>10?n=255:t<10&&t>-1?(n=Math.round(255-255/t))<0&&(n=0):n=0,t<15&&t>-10?e=255:t>15?(e=Math.round(255-5*t))<0?e=0:e>255&&(e=255):t<0&&((e=Math.round(255-5*-t))<0?e=0:e>255&&(e=255)),r=t>0||(r=255-12.5*t)<0?0:255,"rgb(".concat(n,",").concat(e,",").concat(r,")")}(t),t>30?"very hot":t>15&&t<30?"comfortable":t>5&&t<16?"normal":t>-5&&t<6?"chilly":t<-5&&t>-15?"cold":t<-16?"very cold":void 0},z=e(1);function J(t){var n=t.data,e=t.location,a=Object(r.useState)(""),o=Object(u.a)(a,2),c=o[0],i=o[1],s=Object(r.useState)({}),d=Object(u.a)(s,2),l=d[0],p=d[1];return Object(r.useEffect)((function(){""===n||void 0===n||Number(n)||function(t){return j.apply(this,arguments)}(n).then((function(t){p(t),i(Math.floor(t.main.temp))})).catch((function(t){alert("Data is not found for this city"),console.log("Info at error block:",t.message)}))}),[n]),Object(r.useEffect)((function(){isNaN(e.lat)||isNaN(e.lon)||function(t){return x.apply(this,arguments)}(e).then((function(t){p(t),i(Math.floor(t.main.temp))})).catch((function(t){alert("Data is not found for this city"),console.log(t.message)}))}),[e]),"undefined"!==typeof l.main?Object(z.jsxs)(M,{children:[Object(z.jsx)(C,{picture:l.weather[0].icon}),Object(z.jsxs)(E,{children:[Object(z.jsxs)("h3",{children:[l.name,",",l.sys.country]}),Object(z.jsxs)(I,{children:[c,"\xb0c"]}),Object(z.jsxs)(D,{children:["Its ",q(c),", humidity: ",l.main.humidity,"% and it feels like ",Math.floor(l.main.feels_like),"\xb0c"]}),Object(z.jsxs)(D,{children:["Wind: ",Math.floor(l.wind.speed)," m/s"]}),Object(z.jsxs)(D,{children:["QNH: ",Math.floor(l.main.pressure)]})]})]}):Object(z.jsx)("p",{children:"No data yet"})}var B=N.a.form(v||(v=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  min-width: 280px;\n  max-width: 600px;\n  padding: 16px 8px;\n  margin: 0 auto;\n"]))),H=N.a.input(k||(k=Object(i.a)(["\n  min-width: 220px;\n  max-width: 450px;\n  margin-right: 10px;\n  border-radius: 4px;\n  border: 1px solid #fd7e14;\n"]))),P=N.a.button(S||(S=Object(i.a)(["\n  border-radius: 4px;\n  background-color: #fd7e14;\n  border: none;\n  color: #fff;\n"])));function Q(t){var n=t.onCitySearch,e=t.onCoordSearch,a=Object(r.useState)(""),o=Object(u.a)(a,2),c=o[0],i=o[1],s=Object(r.useState)({lat:"",lon:""}),d=Object(u.a)(s,2),l=d[0],p=d[1];return Object(z.jsxs)(B,{onSubmit:function(t){t.preventDefault(),""!==c||""!==l.lat||""!==l.lon?(n(c),e(l),t.target.reset()):alert("Enter the city or coordinates")},children:[Object(z.jsx)(H,{type:"text",name:"citySearch",placeholder:"Enter the city or coordinates",onInput:function(t){var n=t.target.value;isNaN(n.slice(0,2))&&0!==Number(n)&&i(n);var e=n.split(" ");p({lat:Math.round(e[0]),lon:Math.round(e[1])})}}),Object(z.jsx)(P,{type:"submit",children:"Search"})]})}var W,_;var A=function(){var t=Object(r.useState)(""),n=Object(u.a)(t,2),e=n[0],a=n[1],o=Object(r.useState)({}),c=Object(u.a)(o,2),i=c[0],s=c[1],d=function(){var t=Object(r.useState)({loaded:!1,coord:{lat:"",lon:""},error:""}),n=Object(u.a)(t,2),e=n[0],a=n[1];function o(t){a({loaded:!0,coord:{lat:t.coords.latitude,lon:t.coords.longitude},error:""})}function c(t){a({loaded:!0,error:t}),console.log(t.message)}return Object(r.useEffect)((function(){"geolocation"in navigator||a({loaded:!0,err:"Not supported"}),navigator.geolocation.getCurrentPosition(o,c)}),[]),e.coord}();return Object(r.useEffect)((function(){s({lat:Number(d.lat),lon:Number(d.lon)})}),[d.lat,d.lon]),Object(z.jsx)(F,{children:Object(z.jsxs)(G,{id:"tempCard",children:[Object(z.jsx)(Q,{onCitySearch:function(t){return a(t)},onCoordSearch:function(t){return s(t)}}),Object(z.jsx)(J,{data:e,location:i})]})})},F=N.a.div(W||(W=Object(i.a)(["\n  min-width: 320px;\n  max-width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: auto;\n  padding: 8px;\n  margin: 20px auto;\n  background-color: transparent;\n"]))),G=N.a.div(_||(_=Object(i.a)(["\n  border-radius: 12px;\n  box-shadow: -1px 0px 8px -3px rgba(34, 60, 80, 0.15);\n  width: 95vw;\n"])));e(52);c.a.render(Object(z.jsx)(a.a.StrictMode,{children:Object(z.jsx)(A,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.d728978e.chunk.js.map