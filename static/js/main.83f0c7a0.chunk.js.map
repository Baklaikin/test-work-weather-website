{"version":3,"sources":["api/apiService.jsx","views/CurrentTemp.styled.jsx","views/CurrentTemp.jsx","components/CitySearch.styled.jsx","components/CitySearch.jsx","hooks/useGeolocation.jsx","App.js","index.js"],"names":["BASE_URL","KEY","data","a","axios","get","then","value","response","lat","lon","Container","styled","div","InfoWrapper","WeatherPicture","props","picture","Temp","span","CurrentTemp","location","useState","temp","setTemp","weatherData","setWeatherData","useEffect","FetchWeather","Math","floor","main","isNaN","FetchWeaterByLocation","weather","icon","name","sys","country","document","body","style","backgroundColor","isItWarm","humidity","feels_like","wind","speed","Form","form","Input","input","Button","button","CitySearch","onCitySearch","onCoordSearch","result","setResult","setLocation","onSubmit","event","preventDefault","target","reset","alert","type","placeholder","onInput","Number","coords","split","round","App","city","setCity","position","loaded","coord","error","loc","setLoc","onSuccess","latitude","longitude","onError","console","log","message","navigator","err","geolocation","getCurrentPosition","useGeolocation","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.83f0c7a0.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://api.openweathermap.org/data/2.5/weather\";\nconst KEY = \"99865ebe8f851231124cb09f7d46c675\";\n\nexport async function FetchWeather(data) {\n  const response = await axios\n    .get(`${BASE_URL}?q=${data}&units=metric&appid=${KEY}`)\n    .then((value) => value.data);\n  return response;\n}\n\nexport async function FetchWeaterByLocation(data) {\n  const response = await axios\n    .get(\n      `${BASE_URL}?lat=${data.lat}&lon=${data.lon}&units=metric&appid=${KEY}`\n    )\n    .then((value) => value.data);\n  return response;\n}\n","import styled from \"@emotion/styled\";\n\nexport const Container = styled.div`\n  width: 100%;\n  padding: 8px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  background-color: transparent;\n`;\n\nexport const InfoWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const WeatherPicture = styled.div`\n  width: 100px;\n  height: 100px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 35%;\n  background-image: ${(props) => {\n    return `url( http://openweathermap.org/img/wn/${props.picture}@2x.png)`;\n  }};\n`;\n\nexport const Temp = styled.span`\n  font-size: 20px;\n  font-weight: 700;\n`;\n","import { FetchWeaterByLocation } from \"api/apiService\";\nimport { FetchWeather } from \"api/apiService\";\nimport { useState, useEffect } from \"react\";\nimport {\n  Container,\n  InfoWrapper,\n  WeatherPicture,\n  Temp,\n} from \"./CurrentTemp.styled\";\n\nexport function CurrentTemp({ data, location }) {\n  const [temp, setTemp] = useState(\"\");\n  const [weatherData, setWeatherData] = useState({});\n\n  useEffect(() => {\n    if (data !== \"\") {\n      FetchWeather(data).then((response) => {\n        setWeatherData(response);\n        setTemp(Math.floor(response.main.temp));\n      });\n    }\n  }, [data]);\n  useEffect(() => {\n    if (!isNaN(location.lat) && !isNaN(location.lon)) {\n      FetchWeaterByLocation(location).then((response) => {\n        setWeatherData(response);\n        setTemp(Math.floor(response.main.temp));\n      });\n    }\n  }, [location]);\n\n  const isItWarm = (temp) => {\n    if (temp < 10) {\n      document.body.style.backgroundColor = \"#00ffff\";\n      return \"cold\";\n    }\n    if (temp > 10 && temp < 30) {\n      document.body.style.backgroundColor = \"#fff700\";\n      return \"warm\";\n    }\n    if (temp > 30) {\n      document.body.style.backgroundColor = \"#ff8c00\";\n      return \"hot\";\n    }\n  };\n\n  if (typeof weatherData.main !== \"undefined\") {\n    return (\n      <Container>\n        <WeatherPicture picture={weatherData.weather[0].icon} />\n        <InfoWrapper>\n          <h3>\n            {weatherData.name},{weatherData.sys.country}\n          </h3>\n          <p>\n            Its <Temp>{temp}</Temp> degrees and {isItWarm(temp)}, humidity is{\" \"}\n            {weatherData.main.humidity}% and it feels like{\" \"}\n            {Math.floor(weatherData.main.feels_like)} degrees\n          </p>\n          <p>Wind is {Math.floor(weatherData.wind.speed)} m/s</p>\n        </InfoWrapper>\n      </Container>\n    );\n  }\n  return <p>No data yet</p>;\n}\n","import styled from \"@emotion/styled\";\n\nexport const Form = styled.form`\n  display: flex;\n  justify-content: center;\n  padding: 8px;\n  margin: 0 auto;\n`;\n\nexport const Input = styled.input`\n  min-width: 220px;\n  max-width: 450px;\n  margin-right: 10px;\n  border-radius: 4px;\n  border: 1px solid #fd7e14;\n`;\n\nexport const Button = styled.button`\n  border-radius: 4px;\n  background-color: #fd7e14;\n  border: none;\n  color: #fff;\n`;\n","import { useState } from \"react/cjs/react.development\";\nimport { Form, Input, Button } from \"./CitySearch.styled\";\n\nexport function CitySearch({ onCitySearch, onCoordSearch }) {\n  const [result, setResult] = useState(\"\");\n  const [location, setLocation] = useState({\n    lat: \"\",\n    lon: \"\",\n  });\n\n  const formHandler = (event) => {\n    event.preventDefault();\n    if (result === \"\" && location.lat === \"\" && location.lon === \"\") {\n      alert(\"Enter the city or coordinates\");\n      return;\n    }\n    onCitySearch(result);\n    onCoordSearch(location);\n\n    event.target.reset();\n  };\n\n  const inputHandler = (event) => {\n    const data = event.target.value;\n    if (!Number(data)) {\n      setResult(data);\n    }\n    const coords = data.split(\" \");\n    setLocation({ lat: Math.round(coords[0]), lon: Math.round(coords[1]) });\n  };\n\n  return (\n    <Form onSubmit={formHandler}>\n      <Input\n        type=\"text\"\n        name=\"citySearch\"\n        placeholder=\"Enter the city or coordinates\"\n        onInput={inputHandler}\n      />\n      <Button type=\"submit\">Search</Button>\n    </Form>\n  );\n}\n","import { useEffect, useState } from \"react\";\n\nexport const useGeolocation = () => {\n  const [loc, setLoc] = useState({\n    loaded: false,\n    coord: { lat: \"\", lon: \"\" },\n    error: \"\",\n  });\n\n  useEffect(() => {\n    if (!(\"geolocation\" in navigator)) {\n      setLoc({\n        loaded: true,\n        err: \"Not supported\",\n      });\n    }\n    navigator.geolocation.getCurrentPosition(onSuccess, onError);\n  }, []);\n\n  function onSuccess(location) {\n    setLoc({\n      loaded: true,\n      coord: { lat: location.coords.latitude, lon: location.coords.longitude },\n      error: \"\",\n    });\n  }\n  function onError(error) {\n    setLoc({\n      loaded: true,\n      error,\n    });\n    console.log(error.message);\n  }\n  return loc.coord;\n};\n","import \"./App.css\";\nimport { CurrentTemp } from \"views/CurrentTemp\";\nimport { CitySearch } from \"components/CitySearch\";\nimport { useState } from \"react\";\nimport { useGeolocation } from \"hooks/useGeolocation\";\nimport { useEffect } from \"react\";\nimport styled from \"@emotion/styled\";\n\nfunction App() {\n  const [city, setCity] = useState(\"\");\n  const [location, setLocation] = useState({});\n\n  const position = useGeolocation();\n  useEffect(() => {\n    setLocation({\n      lat: Number(position.lat),\n      lon: Number(position.lon),\n    });\n  }, [position.lat, position.lon]);\n\n  const inputHandler = (result) => setCity(result);\n  const coordInputHandler = (result) => setLocation(result);\n\n  return (\n    <Container>\n      <CitySearch\n        onCitySearch={inputHandler}\n        onCoordSearch={coordInputHandler}\n      />\n      <CurrentTemp data={city} location={location} />\n    </Container>\n  );\n}\n\nexport default App;\n\nconst Container = styled.div`\n  min-width: 320px;\n  max-width: 1280px;\n  padding: 8px;\n  margin: 0 auto;\n  background-color: transparent;\n`;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}