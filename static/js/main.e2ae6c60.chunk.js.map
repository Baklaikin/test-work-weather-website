{"version":3,"sources":["api/apiService.jsx","views/CurrentTemp.styled.jsx","views/CurrentTemp.jsx","components/CitySearch.styled.jsx","components/CitySearch.jsx","hooks/useGeolocation.jsx","App.js","index.js"],"names":["BASE_URL","KEY","data","a","axios","get","then","value","response","lat","lon","Container","styled","div","InfoWrapper","WeatherPicture","props","picture","Temp","h3","p","CurrentTemp","location","useState","temp","setTemp","weatherData","setWeatherData","useEffect","FetchWeather","Math","floor","main","isNaN","FetchWeaterByLocation","weather","icon","name","sys","country","card","document","querySelector","style","backgroundColor","isItWarm","humidity","feels_like","wind","speed","Form","form","Input","input","Button","button","CitySearch","onCitySearch","onCoordSearch","result","setResult","setLocation","onSubmit","event","preventDefault","target","reset","alert","type","placeholder","onInput","Number","coords","split","round","App","city","setCity","position","loaded","coord","error","loc","setLoc","onSuccess","latitude","longitude","onError","console","log","message","navigator","err","geolocation","getCurrentPosition","useGeolocation","Wrapper","id","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e2ae6c60.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://api.openweathermap.org/data/2.5/weather\";\nconst KEY = \"99865ebe8f851231124cb09f7d46c675\";\n\nexport async function FetchWeather(data) {\n  const response = await axios\n    .get(`${BASE_URL}?q=${data}&units=metric&appid=${KEY}`)\n    .then((value) => value.data);\n  return response;\n}\n\nexport async function FetchWeaterByLocation(data) {\n  const response = await axios\n    .get(\n      `${BASE_URL}?lat=${data.lat}&lon=${data.lon}&units=metric&appid=${KEY}`\n    )\n    .then((value) => value.data);\n  return response;\n}\n","import styled from \"@emotion/styled\";\n\nexport const Container = styled.div`\n  width: 100%;\n  padding: 8px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  background-color: transparent;\n`;\n\nexport const InfoWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 8px;\n`;\n\nexport const WeatherPicture = styled.div`\n  width: 140px;\n  height: 140px;\n  margin-left: auto;\n  margin-right: auto;\n  background-image: ${(props) => {\n    return `url( http://openweathermap.org/img/wn/${props.picture}@2x.png)`;\n  }};\n  background-position: center;\n  background-repeat: no-repeat;\n`;\n\nexport const Temp = styled.h3`\n  font-size: 50px;\n  font-weight: 700;\n`;\n\nexport const Text = styled.p``;\n","import { FetchWeaterByLocation } from \"../api/apiService\";\nimport { FetchWeather } from \"../api/apiService\";\nimport { useState, useEffect } from \"react\";\nimport {\n  Container,\n  InfoWrapper,\n  WeatherPicture,\n  Temp,\n} from \"./CurrentTemp.styled\";\n\nexport function CurrentTemp({ data, location }) {\n  const [temp, setTemp] = useState(\"\");\n  const [weatherData, setWeatherData] = useState({});\n\n  useEffect(() => {\n    if (data !== \"\") {\n      FetchWeather(data).then((response) => {\n        setWeatherData(response);\n        setTemp(Math.floor(response.main.temp));\n      });\n    }\n  }, [data]);\n\n  useEffect(() => {\n    if (!isNaN(location.lat) && !isNaN(location.lon)) {\n      FetchWeaterByLocation(location).then((response) => {\n        setWeatherData(response);\n        setTemp(Math.floor(response.main.temp));\n      });\n    }\n  }, [location]);\n\n  const isItWarm = (temp) => {\n    const card = document.querySelector(\"#tempCard\");\n    if (temp < -10) {\n      card.style.backgroundColor = \"#00ffff\";\n      return \"cold\";\n    }\n    if ((temp = 10)) {\n      card.style.backgroundColor = \"#fff700\";\n      return \"warm\";\n    }\n    if (temp > 30) {\n      card.style.backgroundColor = \"#ff8c00\";\n      return \"hot\";\n    }\n  };\n\n  if (typeof weatherData.main !== \"undefined\") {\n    return (\n      <Container>\n        <WeatherPicture picture={weatherData.weather[0].icon} />\n        <InfoWrapper>\n          <h3>\n            {weatherData.name},{weatherData.sys.country}\n          </h3>\n          <Temp>{temp}</Temp>\n          <p>\n            Its {isItWarm(temp)}, humidity is {weatherData.main.humidity}% and\n            it feels like {Math.floor(weatherData.main.feels_like)} degrees\n          </p>\n          <p>Wind is {Math.floor(weatherData.wind.speed)} m/s</p>\n        </InfoWrapper>\n      </Container>\n    );\n  }\n  return <p>No data yet</p>;\n}\n","import styled from \"@emotion/styled\";\n\nexport const Form = styled.form`\n  display: flex;\n  justify-content: center;\n  min-width: 280px;\n  max-width: 600px;\n  padding: 16px 8px;\n  margin: 0 auto;\n`;\n\nexport const Input = styled.input`\n  min-width: 220px;\n  max-width: 450px;\n  margin-right: 10px;\n  border-radius: 4px;\n  border: 1px solid #fd7e14;\n`;\n\nexport const Button = styled.button`\n  border-radius: 4px;\n  background-color: #fd7e14;\n  border: none;\n  color: #fff;\n`;\n","import { useState } from \"react\";\nimport { Form, Input, Button } from \"./CitySearch.styled\";\n\nexport function CitySearch({ onCitySearch, onCoordSearch }) {\n  const [result, setResult] = useState(\"\");\n  const [location, setLocation] = useState({\n    lat: \"\",\n    lon: \"\",\n  });\n\n  const formHandler = (event) => {\n    event.preventDefault();\n    if (result === \"\" && location.lat === \"\" && location.lon === \"\") {\n      alert(\"Enter the city or coordinates\");\n      return;\n    }\n    onCitySearch(result);\n    onCoordSearch(location);\n\n    event.target.reset();\n  };\n\n  const inputHandler = (event) => {\n    const data = event.target.value;\n    if (!Number(data)) {\n      setResult(data);\n    }\n    const coords = data.split(\" \");\n    setLocation({ lat: Math.round(coords[0]), lon: Math.round(coords[1]) });\n  };\n\n  return (\n    <Form onSubmit={formHandler}>\n      <Input\n        type=\"text\"\n        name=\"citySearch\"\n        placeholder=\"Enter the city or coordinates\"\n        onInput={inputHandler}\n      />\n      <Button type=\"submit\">Search</Button>\n    </Form>\n  );\n}\n","import { useEffect, useState } from \"react\";\n\nexport const useGeolocation = () => {\n  const [loc, setLoc] = useState({\n    loaded: false,\n    coord: { lat: \"\", lon: \"\" },\n    error: \"\",\n  });\n\n  useEffect(() => {\n    if (!(\"geolocation\" in navigator)) {\n      setLoc({\n        loaded: true,\n        err: \"Not supported\",\n      });\n    }\n    navigator.geolocation.getCurrentPosition(onSuccess, onError);\n  }, []);\n\n  function onSuccess(location) {\n    setLoc({\n      loaded: true,\n      coord: { lat: location.coords.latitude, lon: location.coords.longitude },\n      error: \"\",\n    });\n  }\n  function onError(error) {\n    setLoc({\n      loaded: true,\n      error,\n    });\n    console.log(error.message);\n  }\n  return loc.coord;\n};\n","import \"./App.css\";\nimport { CurrentTemp } from \"./views/CurrentTemp\";\nimport { CitySearch } from \"./components/CitySearch\";\nimport { useState, useEffect } from \"react\";\nimport { useGeolocation } from \"./hooks/useGeolocation\";\nimport styled from \"@emotion/styled\";\n\nfunction App() {\n  const [city, setCity] = useState(\"\");\n  const [location, setLocation] = useState({});\n\n  const position = useGeolocation();\n  useEffect(() => {\n    setLocation({\n      lat: Number(position.lat),\n      lon: Number(position.lon),\n    });\n  }, [position.lat, position.lon]);\n\n  const inputHandler = (result) => setCity(result);\n  const coordInputHandler = (result) => setLocation(result);\n\n  return (\n    <Container>\n      <Wrapper id=\"tempCard\">\n        <CitySearch\n          onCitySearch={inputHandler}\n          onCoordSearch={coordInputHandler}\n        />\n        <CurrentTemp data={city} location={location} />\n      </Wrapper>\n    </Container>\n  );\n}\n\nexport default App;\n\nconst Container = styled.div`\n  min-width: 320px;\n  max-width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  padding: 8px;\n  margin: 0 auto;\n  background-color: transparent;\n`;\n\nconst Wrapper = styled.div`\n  border-radius: 12px;\n  box-shadow: -1px 0px 8px -3px rgba(34, 60, 80, 0.15);\n`;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}