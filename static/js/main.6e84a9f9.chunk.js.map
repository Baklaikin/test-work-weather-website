{"version":3,"sources":["api/apiService.jsx","views/CurrentTemp.styled.jsx","views/CurrentTemp.jsx","components/CitySearch.styled.jsx","components/CitySearch.jsx","hooks/useGeolocation.jsx","App.js","index.js"],"names":["BASE_URL","KEY","data","a","axios","get","then","value","status","Error","response","lat","lon","Container","styled","div","InfoWrapper","WeatherPicture","props","picture","Temp","h3","Text","p","CurrentTemp","location","useState","temp","setTemp","weatherData","setWeatherData","useEffect","undefined","Number","FetchWeather","Math","floor","main","catch","error","alert","console","log","message","isNaN","FetchWeaterByLocation","weather","icon","name","sys","country","card","document","querySelector","style","backgroundColor","isItWarm","humidity","feels_like","wind","speed","pressure","Form","form","Input","input","Button","button","CitySearch","onCitySearch","onCoordSearch","result","setResult","setLocation","onSubmit","event","preventDefault","target","reset","type","placeholder","onInput","slice","coords","split","round","App","city","setCity","position","loaded","coord","loc","setLoc","onSuccess","latitude","longitude","onError","navigator","err","geolocation","getCurrentPosition","useGeolocation","Wrapper","id","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6e84a9f9.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://api.openweathermap.org/data/2.5/weather\";\nconst KEY = \"99865ebe8f851231124cb09f7d46c675\";\n\nexport async function FetchWeather(data) {\n  const response = await axios\n    .get(`${BASE_URL}?q=${data}&units=metric&appid=${KEY}`)\n    .then((value) => {\n      if (value.status !== 200) {\n        throw new Error(value.status);\n      }\n      return value.data;\n    });\n  return response;\n}\n\nexport async function FetchWeaterByLocation(data) {\n  const response = await axios\n    .get(\n      `${BASE_URL}?lat=${data.lat}&lon=${data.lon}&units=metric&appid=${KEY}`\n    )\n    .then((value) => {\n      if (value.status !== 200) {\n        throw new Error(value.status);\n      }\n      return value.data;\n    });\n  return response;\n}\n","import styled from \"@emotion/styled\";\n\nexport const Container = styled.div`\n  width: 100%;\n  padding: 8px;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  background-color: transparent;\n`;\n\nexport const InfoWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 8px;\n`;\n\nexport const WeatherPicture = styled.div`\n  width: 140px;\n  height: 140px;\n  margin-left: auto;\n  margin-right: auto;\n  background-image: ${(props) => {\n    return `url( http://openweathermap.org/img/wn/${props.picture}@2x.png)`;\n  }};\n  background-position: center;\n  background-repeat: no-repeat;\n`;\n\nexport const Temp = styled.h3`\n  font-size: 50px;\n  font-weight: 700;\n`;\n\nexport const Text = styled.p`\n  margin: 0;\n  padding: 0;\n  font-size: 20px;\n  font-weight: 500;\n`;\n","import { FetchWeaterByLocation } from \"../api/apiService\";\nimport { FetchWeather } from \"../api/apiService\";\nimport { useState, useEffect } from \"react\";\nimport {\n  Container,\n  InfoWrapper,\n  WeatherPicture,\n  Temp,\n  Text,\n} from \"./CurrentTemp.styled\";\n\nexport function CurrentTemp({ data, location }) {\n  const [temp, setTemp] = useState(\"\");\n  const [weatherData, setWeatherData] = useState({});\n\n  useEffect(() => {\n    if (data === \"\" || data === undefined || Number(data)) {\n      return;\n    }\n    FetchWeather(data)\n      .then((response) => {\n        setWeatherData(response);\n        setTemp(Math.floor(response.main.temp));\n      })\n      .catch((error) => {\n        alert(\"Data is not found for this city\");\n        console.log(\"Info at error block:\", error.message);\n      });\n  }, [data]);\n\n  useEffect(() => {\n    if (!isNaN(location.lat) && !isNaN(location.lon)) {\n      FetchWeaterByLocation(location)\n        .then((response) => {\n          setWeatherData(response);\n          setTemp(Math.floor(response.main.temp));\n        })\n        .catch((error) => {\n          alert(\"Data is not found for this city\");\n          console.log(error.message);\n        });\n    }\n  }, [location]);\n\n  const isItWarm = (temp) => {\n    const card = document.querySelector(\"#tempCard\");\n    if (temp < -10) {\n      card.style.backgroundColor = \"#00ffff\";\n      return \"cold\";\n    }\n    if (temp > -10 && temp < 30) {\n      card.style.backgroundColor = \"#fff700\";\n      return \"warm\";\n    }\n    if (temp > 30) {\n      card.style.backgroundColor = \"#ff8c00\";\n      return \"hot\";\n    }\n  };\n\n  if (typeof weatherData.main !== \"undefined\") {\n    return (\n      <Container>\n        <WeatherPicture picture={weatherData.weather[0].icon} />\n        <InfoWrapper>\n          <h3>\n            {weatherData.name},{weatherData.sys.country}\n          </h3>\n          <Temp>{temp}&#176;c</Temp>\n          <Text>\n            Its {isItWarm(temp)}, humidity: {weatherData.main.humidity}% and it\n            feels like {Math.floor(weatherData.main.feels_like)}&#176;c\n          </Text>\n          <Text>Wind: {Math.floor(weatherData.wind.speed)} m/s</Text>\n          <Text>QNH: {Math.floor(weatherData.main.pressure)}</Text>\n        </InfoWrapper>\n      </Container>\n    );\n  }\n  return <p>No data yet</p>;\n}\n","import styled from \"@emotion/styled\";\n\nexport const Form = styled.form`\n  display: flex;\n  justify-content: center;\n  min-width: 280px;\n  max-width: 600px;\n  padding: 16px 8px;\n  margin: 0 auto;\n`;\n\nexport const Input = styled.input`\n  min-width: 220px;\n  max-width: 450px;\n  margin-right: 10px;\n  border-radius: 4px;\n  border: 1px solid #fd7e14;\n`;\n\nexport const Button = styled.button`\n  border-radius: 4px;\n  background-color: #fd7e14;\n  border: none;\n  color: #fff;\n`;\n","import { useState } from \"react\";\nimport { Form, Input, Button } from \"./CitySearch.styled\";\n\nexport function CitySearch({ onCitySearch, onCoordSearch }) {\n  const [result, setResult] = useState(\"\");\n  const [location, setLocation] = useState({\n    lat: \"\",\n    lon: \"\",\n  });\n\n  const formHandler = (event) => {\n    event.preventDefault();\n    if (result === \"\" && location.lat === \"\" && location.lon === \"\") {\n      alert(\"Enter the city or coordinates\");\n      return;\n    }\n    onCitySearch(result);\n    onCoordSearch(location);\n\n    event.target.reset();\n  };\n\n  const inputHandler = (event) => {\n    const data = event.target.value;\n    if (isNaN(data.slice(0, 2)) && Number(data) !== 0) {\n      setResult(data);\n    }\n    const coords = data.split(\" \");\n    setLocation({ lat: Math.round(coords[0]), lon: Math.round(coords[1]) });\n  };\n\n  return (\n    <Form onSubmit={formHandler}>\n      <Input\n        type=\"text\"\n        name=\"citySearch\"\n        placeholder=\"Enter the city or coordinates\"\n        onInput={inputHandler}\n      />\n      <Button type=\"submit\">Search</Button>\n    </Form>\n  );\n}\n","import { useEffect, useState } from \"react\";\n\nexport const useGeolocation = () => {\n  const [loc, setLoc] = useState({\n    loaded: false,\n    coord: { lat: \"\", lon: \"\" },\n    error: \"\",\n  });\n\n  useEffect(() => {\n    if (!(\"geolocation\" in navigator)) {\n      setLoc({\n        loaded: true,\n        err: \"Not supported\",\n      });\n    }\n    navigator.geolocation.getCurrentPosition(onSuccess, onError);\n  }, []);\n\n  function onSuccess(location) {\n    setLoc({\n      loaded: true,\n      coord: { lat: location.coords.latitude, lon: location.coords.longitude },\n      error: \"\",\n    });\n  }\n  function onError(error) {\n    setLoc({\n      loaded: true,\n      error,\n    });\n    console.log(error.message);\n  }\n  return loc.coord;\n};\n","import \"./App.css\";\nimport { CurrentTemp } from \"./views/CurrentTemp\";\nimport { CitySearch } from \"./components/CitySearch\";\nimport { useState, useEffect } from \"react\";\nimport { useGeolocation } from \"./hooks/useGeolocation\";\nimport styled from \"@emotion/styled\";\n\nfunction App() {\n  const [city, setCity] = useState(\"\");\n  const [location, setLocation] = useState({});\n  const position = useGeolocation();\n\n  useEffect(() => {\n    setLocation({\n      lat: Number(position.lat),\n      lon: Number(position.lon),\n    });\n  }, [position.lat, position.lon]);\n\n  const inputHandler = (result) => setCity(result);\n  const coordInputHandler = (result) => setLocation(result);\n\n  return (\n    <Container>\n      <Wrapper id=\"tempCard\">\n        <CitySearch\n          onCitySearch={inputHandler}\n          onCoordSearch={coordInputHandler}\n        />\n        <CurrentTemp data={city} location={location} />\n      </Wrapper>\n    </Container>\n  );\n}\n\nexport default App;\n\nconst Container = styled.div`\n  min-width: 320px;\n  max-width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: auto;\n  padding: 8px;\n  margin: 20px auto;\n  background-color: transparent;\n`;\n\nconst Wrapper = styled.div`\n  border-radius: 12px;\n  box-shadow: -1px 0px 8px -3px rgba(34, 60, 80, 0.15);\n  width: 95vw;\n`;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}